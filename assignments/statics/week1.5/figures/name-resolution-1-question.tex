\documentclass[crop,tikz]{standalone}
\usepackage{amsmath}
\input{scopegraphs}
\begin{document}
\begin{tikzpicture}[scopegraph]
  \node[scope] (s0) {$0$};
  \node[decl, left = of s0.center] (g1) {$\occ{g}{1}$};
  \node[decl, right = of s0.center] (A2) {$\occ{A}{2}$};
  \node[scope, right = of A2.center] (s1) {$1$};
  \node[decl, right = of s1.center] (f3) {$\occ{f}{3}$};
  \node[scope, below = of s0.center] (s2) {$2$};
  \node[decl, right = of s2.center] (A4) {$\occ{A}{4}$};
  \node[scope, right = of A4.center] (s3) {$3$};
  \node[decl, right = of s3.center] (f6) {$\occ{f}{6}$};
  \node[ref, below = of s3.center] (g5) {$\occ{g}{5}$};
  \node[ref, below = of s2.center] (A7) {$\occ{A}{7}$};
  \node[scope, left = of A7.center] (s4) {$4$};
  \node[ref, above = of s4.center] (f8) {$\occ{f}{8}$};

  \draw (s0) edge (A2);
  \draw (s1) edge[bend left, lbl = {P}] (s0);
  \draw (s0) edge (g1);
  \draw (A2) edge[export,lbl = {I}] (s1);
  \draw (s1) edge (f3);
  \draw (s2) edge[lbl = {P}] (s0);
  \draw (s3) edge[bend right, lbl = {P}] (s2);
  \draw (s2) edge (A4);
  \draw (A4) edge[export, lbl = {I}] (s3);
  \draw (s3) edge (f6);
  \draw (A7) edge (s2);
  \draw (s4) edge [import, lbl = {I}] (A7);
  \draw (f8) edge (s4);
  \draw (g5) edge (s3);

  \node[draw=none] at (7, -.75) (params) {$\begin{aligned}
      \Wf &= \lblt{P}^\ast \lblt{I}^\ast \\
      \Ord &= \begin{aligned}[t]
        \decllblt &< \lblt{P} \\
        \decllblt &< \lblt{I} \\
        \lblt{I} &< \lblt{P}
      \end{aligned}
    \end{aligned}$};
\end{tikzpicture}
\end{document}
